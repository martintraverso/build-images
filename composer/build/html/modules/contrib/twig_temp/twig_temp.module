<?php

/**
 * @file
 * Module hooks for the temporary-backed twig environment.
 */

use Drupal\twig_temp\TwigTemporaryPhpStorageCache;

/**
 * Implements hook_cache_flush().
 */
function twig_temp_cache_flush() {
  $cache = \Drupal::service('cache.default');
  $hash = \Drupal::getContainer()->getParameter('twig_extension_hash');
  $storage = new TwigTemporaryPhpStorageCache($cache, $hash);
  $storage->deleteAll();
}
